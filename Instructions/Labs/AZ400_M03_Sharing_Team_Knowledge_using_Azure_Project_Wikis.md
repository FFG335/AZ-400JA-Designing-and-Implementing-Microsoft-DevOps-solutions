---
lab:
    title: 'ラボ: Azure Project Wikis を使用したチーム知識の共有'
    module: 'モジュール 3: 技術的負債の管理'
---

# ラボ: Azure Project Wiki を使用してチーム知識を共有する
# 学生用ラボ マニュアル

## ラボの概要

このラボでは、Markdown コンテンツの管理やマーメイド ダイアグラムの作成など、Azure DevOps で Wiki を作成および構成します。

## 目標

このラボを完了すると、次のことができるようになります。

- Azure プロジェクトで Wiki を作成する
- Markdown を追加および編集する
- マーメイド ダイアグラムを作成する

## ラボの所要時間

-   推定時間: **45 分**

## 指示

### 開始する前に

#### ラボの仮想マシンにログインする

次の資格情報を使用して、Windows 10 コンピューターにサインインしていることを確認します。
    
-   ユーザー名: **Student**
-   パスワード: **Pa55w.rd**

#### インストールされているアプリケーションを確認します

Windows デスクトップでタスクバーを見つけます。タスク バーには、この課題で使用するアプリケーションのアイコンが含まれています:
    
-   Microsoft Edge

#### Azure DevOps 組織をセットアップします。 

このラボで使用できる Azure DevOps 組織がまだない場合は、[組織またはプロジェクト コレクションの作成](https://docs.microsoft.com/ja-jp/azure/devops/organizations/accounts/create-organization?view=azure-devops)の手順に従って作成してください。

### 演習 0: ラボの前提条件を構成する

この演習では、ラボの前提条件を設定します。これは、Azure DevOps Demo Generator テンプレートに基づく事前構成済みの **Tailwind Traders** チームプ ロジェクトと、Microsoft Teams で作成されたチームで構成されます。

#### タスク 1: チーム プロジェクトを構成する

このタスクでは、Azure DevOps Demo Generatorを使用して、**Tailwind Traders** テンプレートに基づいて新しいプロジェクトを生成します。

1.  ラボ コンピューターで、Web ブラウザーを起動し、[Azure DevOps Demo Generator](https://azuredevopsdemogenerator.azurewebsites.net) に移動します。このユーティリティ サイトは、ラボに必要なコンテンツ (作業項目、リポジトリなど) が事前に入力されたアカウント内に新しい Azure DevOps プロジェクトを作成するプロセスを自動化します。 

    > **注**: サイトの詳細については、https://docs.microsoft.com/ja-jp/azure/devops/demo-gen を参照してください。

1.  「**サインイン**」 をクリックし、Azure DevOps サブスクリプションに関連付けられている Microsoft アカウントを使用してサインインします。
1.  必要な場合は、**Azure DevOps Demo Generator** ページで、「**承諾する**」 をクリックして、Azure DevOps サブスクリプションにアクセスするためのアクセス許可の要求を受け入れます。
1.  「**新しいプロジェクトの作成**」 ページの 「**新しいプロジェクト名**」 テキストボックスに、「**Sharing Team Knowledge using Azure Project Wikis**」と入力し、「**Select Organization(組織の選択)**」 ドロップダウン リストで、Azure DevOps 組織を選択して、「**Choose Template(テンプレートの選択)**」 をクリックします。
1.  テンプレートのリストで、**Tailwind Traders** テンプレートを選択し、「**テンプレートの選択**」 をクリックします。
1.  「**Create Project(新しいプロジェクトの作成)**」 ページに戻り、不足している拡張機能をインストールするように求められたら、**ARM Outputs**の下のチェックボックスを選択して 「**プロジェクトの作成**」 をクリックします。

    > **注**: プロセスが完了するまでお待ちください。これにはおよそ 2 分かかります。プロセスが失敗した場合は、DevOps 組織に移動し、プロジェクトを削除して、再試行してください。

1. 「**Navigate to Project(プロジェクトに移動)**」 をクリックします

### 演習 1: コードを Wiki として公開する

この演習では、Azure DevOps リポジトリを Wiki として公開し、公開された Wiki を管理する手順を説明します。

> **注**: Git リポジトリに保持しているコンテンツは、Azure DevOps wiki に公開できます。たとえば、ソフトウェア開発キット、製品ドキュメント、またはREADME ファイルをサポートするために作成されたコンテンツは、Wiki に直接公開できます。同じ Azure DevOps チーム プロジェクト内で複数の Wiki を公開するオプションがあります。

#### タスク 1: Azure DevOps リポジトリのブランチを wiki として公開する

このタスクでは、Azure DevOps リポジトリのブランチを wiki として公開します。

> **注**: 公開された Wiki が製品バージョンに対応している場合は、製品の新しいバージョンをリリースするときに新しいブランチを公開できます。 

1.  ラボ コンピューターで、**Sharing Team Knowledge using Azure Project Wikis**を表示する Azure DevOps ポータルの左側の垂直メニューの 「**Overview(概要)**」 セクションで、「**Wiki**」 をクリックして既存のコンテンツを確認します。 
1. 左側の垂直メニューで、「**Repos**」 を選択します。
1. ペインの上部にある **<Organizaton Name> / Sharing Team Knowledge ... / Repos / Files /** 配下のドロップダウン リストで 「**TailwindTraders-Websites**」 を選択します。
1. main ブランチのコンテンツを表示します。
3. リポジトリのフォルダーとファイル階層のリストで、「**Documents**」フォルダー配下の「**Images**」 サブフォルダーを展開し、**Website.png** エントリを見つけ、マウス ポインターを右端に置いて 「**その他**」 メニューを表す縦の省略記号を表示してをクリックし、ドロップダウン メニューで 「**Download**」 をクリックして、**Website.png** ファイルをラボ コンピューターのローカルの**downloads** フォルダーにダウンロードします。 

    > **注**: このラボの次の演習では、この画像を使用します。

1.  左側の垂直メニューで 「**Overview**」 をクリックして「**Wiki**」 を選択し、ペインの上部で 「**Tailwind Traders**」 ドロップダウン メニューを選択し、ドロップダウン リストで 「**Publish code as wiki(コードを Wiki として公開)**」 を選択します。 
1.  「**Publish code as wiki**」 ペインで、次の設定を指定して 「**Publish**」 をクリックします。

    | 設定 | 値 |
    | ------- | ----- |
    | リポジトリ | **TailwindTraders-Website** |
    | 「Branch」\(ブランチ) | **main** |
    | Folder | **Documents** |
    | Wiki 名 | **Tailwind Traders (ドキュメント)** |

    > **注**: これは、自動的に **README** ファイルの内容を表示します。

1.  **GitHubActions** ファイルのコンテンツを確認し、基になるリポジトリの構造と一致する wiki の全体的な構造に注意してください。
1.  ペインの上部で、「**Tailwind Traders (ドキュメント)**」 ドロップダウン メニューを選択し、この Wiki と以前に公開された Wiki を簡単に切り替えることができることに注意してください。

#### タスク 2: 公開された Wiki のコンテンツを管理する

このタスクでは、前のタスクで公開した Wiki のコンテンツを管理します。

1.  左側の垂直メニューで 「**Repos**」 をクリックし、上部にあるドロップダウンメ ニューに**main** ブランチが表示されていることを確認します。リポジトリ フォルダー階層で「**ドキュメント**」 フォルダーを選択し、右上隅にある 「**New(新規)**」 をクリックして、ドロップダウン メニューで、「**ファイル**」 をクリックします。 
1.  「**New File(新しいファイル)**」 パネルの 「**New File Name(新しいファイル名)**」 で、「**Documents**」 プレフィックスの後に **.order** と入力し、「**Create(作成)**」 をクリックします。
1.  「**.order**」 ペインの 「**contents**」 タブで、次のように入力し、「**commit**」 をクリックします。

    ```text
    GitHubActions
    Images
    ```

1.  「**Commit**」ペインで、「**Commit**」 をクリックします。
1.  左側の垂直メニューで 「**Overview**」 をクリックして 「**Wiki**」 を選択し、ペインの上部に **Tailwind Traders (ドキュメント)** が表示されることを確認して、Wiki コンテンツの順序を確認します。 

    > **注**: Wiki コンテンツの順序は、**.order**ファイルにリストされているファイルとフォルダーの順序と一致している必要があります。

1.  左側の垂直メニューで 「**Repos**」 をクリックし、**main** ブランチが表示されていることを確認し、ファイルのリストで 「**GitHubActions.md**」 を選択し、「**GitHubActions.md**」 ペインで 「**編集**」 をクリックします。 
1.  「**GitHubActions.md**」 ペインの `#GitHub Actions` のすぐ下に、「**Documents**」 フォルダー内の画像の 1 つを参照する次の Markdown 要素を追加します。

    ```
    ![Tailwind Traders Website](Images/Website.png)
    ```    

1.  「**GitHubActions.md**」 ペインで、「**Commit**」 をクリックし、「**Commit**」 ペインで 「**Commit**」 をクリックします。
3.  「**GitHubActions.md**」 ペインの 「**プレビュー**」 タブで、画像が表示されていることを確認します。
4.  左側の垂直メニューで 「**Overview**」 をクリックし、「**Wiki**」 を選択し、ペインの上部に **Tailwind Traders (ドキュメント)** が表示されていること、および 「**GitHubActions**」 ペインのコンテンツに新しく参照された画像が含まれていることを確認します。 

### 演習 2: プロジェクト Wiki の作成と管理

この演習では、プロジェクト Wiki の作成と管理について説明します。

> **注**: 既存のリポジトリとは別に、Wiki を作成および管理できます。 

#### タスク 1: マーメイド図と画像を含むプロジェクト Wiki を作成する

このタスクでは、プロジェクト Wiki を作成し、それにマーメイド図と画像を追加します。

1.  ラボ コンピューターで、**Sharing Team Knowledge using Azure Project Wikis**の Wiki ペインを表示する Azure DevOps ポータルで、**Tailwind Traders (ドキュメント)** wiki のコンテンツを選択し、ペインの上部で **Tailwind Traders (ドキュメント)** ドロップダウン リストで 「**Create new project Wiki**」 を選択します。 
1.  「**Page Title**」 テキスト ボックスに、「**プロジェクト設計**」と入力します。
1.  ページの本文にカーソルを置き、ヘッダー設定を表す左端のアイコンをクリックし、ドロップダウン リストで 「**Header 1**」 をクリックします。これにより、ハッシュ文字（**＃**）が自動的に追加されます。
1.  新しく追加された **#** 文字の直後に、「**Authentication and Authorization**」と入力し、**Enter** キーを押します。
1.  ヘッダー設定を表すツールバーの左端のアイコンをクリックし、ドロップダウン リストで 「**Header 2**」 をクリックします。これにより、行の先頭にハッシュ文字 (**##**) が自動的に追加されます。
1.  新しく追加された **##** 文字の直後に、「**Azure DevOps OAuth 2.0 認証フロー**」と入力し、**Enter** キーを押します。

1. 以下の文字列をコピーして、エディタにペーストします。
    ```
    ::: mermaid
    sequenceDiagram
     participant U as User
     participant A as Your app
     participant D as Azure DevOps
     U->>A: アプリを使用する
     A->>D: ユーザー承認をリクエスト
     D-->>U: 承認をリクエスト
     U->>D: 認証を付与
     D-->>A: 認証コードを送信
     A->>D: アクセス トークンを取得
     D-->>A: アクセス トークンを送信
     A->>D: アクセス トークン REST API を呼び出す
     D-->>A: REST API に応答する
     A-->>U: REST API 応答を中継する
    :::
    ```

    > **注**: マーメイド構文の詳細については、[マーメイドについて](https://mermaid-js.github.io/mermaid/#/)」を参照してください。

1.  エディター ペインの右側にある、プレビュー ペインで、「**Load Diagram**」 をクリックして、結果を確認します。 

    > **注**: 出力は、[OAuth 2.0を使用してREST API へのアクセスを承認する](https://docs.microsoft.com/ja-jp/azure/devops/integrate/get-started/authentication/oauth?view=azure-devops)方法を示すフローチャートのようになります。

1.  エディター ペインの右上隅にある 「**保存**」 ボタンの横にある下向きのキャレットをクリックし、ドロップダウン メニューで、「**Save with revision messages**」 をクリックします。 
1.  「**Save page**」 ダイアログ ボックスで、「**OAuth 2.0 マーメイド図を使用した認証と承認セクション**」と入力し、「**Save**」 をクリックします。
1.  **プロジェクト設計** エディター ペインで、このタスクの前半で追加したマーメイド要素の最後にカーソルを置き、**Enter** キーを押して行を追加し、ツールバーの左端のアイコンをクリックし、ドロップダウン リストで、「**Header 2**」 をクリックします。これにより、行の先頭にダブルハッシュ文字 (**##**) が自動的に追加されます。
1.  新しく追加された **##** 文字の直後に、「**User Interface**」と入力し、**Enter** キーを押します。
1.  **プロジェクト設計**エディター ペインのツールバーで、「**Insert a file(ファイルの挿入)**」 を表すクリップ アイコンをクリックし、「**開く**」 ダイアログ ボックスで 「**downloads**」 フォルダーに移動し、前の演習でダウンロードした **Website.png** ファイルを選択して 「**開く**」 をクリックします。
1.  プレビュー ペインを確認して、画像が正しく表示されていることを確認します。
1.  エディター ペインの右上隅にある 「**保存**」 ボタンの横にある下向きのキャレットをクリックし、ドロップダウン メニューで、「**Save with revision messages**」 をクリックします。 
1.  「**Save page**」 ダイアログ ボックスで、「**Tailwind Traders イメージを含むユーザー インターフェイス セクション**」と入力し、「**Save**」 をクリックします。
1.  エディター ペインに戻り、右上隅にある 「**Close**」 をクリックします。 

#### タスク 2: プロジェクト Wiki の管理

このタスクでは、新しく作成されたプロジェクト Wiki を管理します。

> **注**: まず、Wiki ページへの最新の変更を元に戻します。

1.  ラボ コンピューターで、**Sharing Team Knowledge using Azure Project Wikis**の Wiki を表示し、**プロジェクト設計** Wiki のコンテンツを選択した状態で、右上隅にある縦の省略記号をクリックし、ドロップダウン メニューで、「**view revisions**」 をクリックします。
1.  「**Revisions**」 ペインで、最新の変更を表すエントリをクリックします。 
1.  表示されたペインで、ドキュメントの以前のバージョンと現在のバージョンの比較を確認し、「**Revert(元に戻す)**」 をクリックし、確認を求められたら、もう一度 「**Revert(元に戻す)**」 をクリックして、「**Broese Page**」 をクリックします。 
1.  「**プロジェクト設計**」 ペインに戻り、変更が正常に元に戻されたことを確認します。

    > **注**: ここで、プロジェクト Wiki に別のページを追加し、それを Wiki ホーム ページとして設定します。

1.  「**プロジェク設計**」 ペインの左下隅にある 「**New page**」 をクリックします。
1.  ページ エディター ペインの 「**ページ タイトル**」 テキストボックスに「**プロジェクト設計の概要**」と入力し、「**Save**」をクリックして、「**Close**」 をクリックします。
1.  **プロジェクト設計**プロジェクト Wiki 内のページを一覧表示するペインに戻ったら、**プロジェクト設計概要**エントリを見つけ、マウス ポインターで選択し、**プロジェクト設計**ページ エントリの上にドラッグ アンド ドロップします。 
1.  **プロジェクト設計概要**エントリがトップレベル ページとして一覧表示され、ホーム アイコンがそれを Wiki ホーム ページとして指定していることを確認します。

## レビュー

このラボでは、Markdown コンテンツの管理やマーメイド図の作成など、Azure DevOps で Wiki を作成および構成しました。
